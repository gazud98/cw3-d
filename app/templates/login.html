{% extends 'base.html' %}

{% block title %}Login - SGC{% endblock %}

{% block content %}
<div class="d-flex justify-content-center align-items-center min-vh-100">
  <div class="login-card shadow-lg p-5 rounded-4">
    <div class="text-center mb-4">
      <img src="{{ url_for('static', filename='img/quality-icon.png') }}" alt="icono calidad" width="50">
      <h2 class="login-title">Sistema de Gestión de Calidad</h2>
    </div>

    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <div class="text-danger text-center mb-3">
      {% for message in messages %}
      <div>{{ message }}</div>
      {% endfor %}
    </div>
    {% endif %}
    {% endwith %}

    <form method="POST" action="/login">
      <div class="form-floating mb-3">
        <input type="text" class="form-control login-input text-lowercase" id="username" name="username"
          placeholder="Usuario" required>
        <label for="username">Usuario</label>
      </div>
      <div class="form-floating mb-4 position-relative">
        <input type="password" class="form-control login-input" name="password" id="passwordInput"
          placeholder="Contraseña" required>
        <label for="passwordInput">Contraseña</label>
        <button type="button"
          class="btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y me-2 py-1 px-2"
          id="togglePassword" title="Mostrar/ocultar contraseña">
          <i class="bi bi-eye" id="passwordIcon"></i>
        </button>
      </div>

      <div class="d-grid">
        <button type="submit" class="btn login-btn">Iniciar sesión</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}

{% set body_class = 'login-body' %}